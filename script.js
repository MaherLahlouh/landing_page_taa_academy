// Localization data
const translations = {
    ar: {
        "nav.home": "الرئيسية",
        "nav.digitalFab": "مختبر التصنيع",
        "nav.features": "المميزات",
        "nav.about": "من نحن",
        "nav.testimonials": "آراء العملاء",
        "nav.store": "المتجر",
        "nav.contact": "اتصل بنا",
        "cta.getStarted": " احجز الآن",
        "hero.highlight": "أطلق العنان",
        "hero.title": "لمبتكري الغد: مغامرات الروبوتات للأطفال!",
        "hero.subtitle": "أطلق العنان للفضول، وأشعل الإبداع، وابنِ المستقبل، روبوتًا واحدًا في كل مرة. وفر لطفلك المهارات اللازمة لعالم سريع التطور.",
        "cta.startAdventure": "ابدأ مغامرتهم",
        "cta.explorePrograms": "استكشاف البرامج",
        "features.title": "لماذا تختارنا",
        "features.subtitle": "تم تصميم برامجنا المبتكرة لمساعدة أطفالك على النمو والنجاح في عالم اليوم التنافسي.",
        "features.handsOn": "التعلم العملي",
        "features.handsOnDesc": "يركز منهجنا على الخبرة العملية المباشرة مع الروبوتات والبرمجة.",
        "features.experts": "مدرّسون خبراء",
        "features.expertsDesc": "تعلم من معلمين شغوفين لديهم خبرة عملية في مجالات العلوم والهندسة والتكنولوجيا والرياضيات.",
        "features.ageAppropriate": "مناسب للعمر",
        "features.ageAppropriateDesc": "برامج مصممة لمجموعات عمرية مختلفة، من المبتدئين إلى المتعلمين المتقدمين.",
        "features.projectBased": "قائم على المشاريع",
        "features.projectBasedDesc": "يتعلم الطلاب من خلال إنشاء مشاريع حقيقية يمكنهم الفخر بها.",
        "features.teamwork": "العمل الجماعي",
        "features.teamworkDesc": "تطوير مهارات العمل الجماعي والتواصل المهمة من خلال المشاريع الجماعية.",
        "features.trackProgress": "تتبع التقدم",
        "features.trackProgressDesc": "تقييمات منتظمة وتقارير تقدم لمراقبة تطور طفلك.",
        "about.title": "عن أكاديمية تاء",
        "about.p1": "في أكاديمية تاء، نؤمن أن كل طفل لديه القدرة على أن يكون مبتكرًا. مهمتنا هي توفير تعليم روبوتات عالي الجودة ومتاح يلهم العقول الشابة ويعدّهم للمستقبل.",
        "about.p2": "تأسست من قبل معلمين ومهندسين ذوي خبرة، نجمع بين الخبرة التربوية والتكنولوجيا المتطورة لإنشاء تجارب تعليمية جذابة. ساعدت برامجنا المئات من الأطفال على تطوير التفكير النقدي ومهارات حل المشكلات والإبداع.",
        "about.students": "طالب",
        "about.experience": "سنوات خبرة",
        "about.satisfaction": "رضا",
        "testimonials.title": "ما يقوله أولياء الأمور",
        "testimonials.subtitle": "لا تأخذ كلامنا فقط. إليك ما يقوله الآباء عن تجربة أطفالهم.",
        "testimonials.review1": "لقد اكتشف ابني شغفًا بالروبوتات في أكاديمية تاء. المعلمون صبورون وذوو معرفة، ويعود إلى المنزل متحمسًا لمشاركة ما تعلمه كل أسبوع.",
        "testimonials.parent1": "سارة ويلسون",
        "testimonials.role1": "أم لطالب عمره 9 سنوات",
        "testimonials.review2": "ساعدني منهج أكاديمية تاء في بناء ثقة ابنتي في قدراتها التقنية. انتقلت من التردد تجاه التكنولوجيا إلى قيادة نادي الروبوتات في مدرستها.",
        "testimonials.parent2": "مايكل تشن",
        "testimonials.role2": "أب لطالب عمره 11 سنة",
        "testimonials.review3": "كمهندس نفسي، أنا معجب بجودة التعليم في أكاديمية تاء. إنهم لا يعلمون الأطفال فقط اتباع التعليمات، بل يفكرون مثل محللي المشكلات الحقيقيين.",
        "testimonials.parent3": "د. إيماء رودريغيز",
        "testimonials.role3": "والدة ومهندسة برمجيات",
        "cta.journeyTitle": "مستعد لبدء رحلة طفلك؟",
        "cta.journeySubtitle": "انضم إلى مئات الطلاب الراضين الذين اكتشفوا متعة الروبوتات والبرمجة مع معلمينا الخبراء.",
        "cta.enrollToday": "سجّل اليوم",
        "footer.programs": "البرامج",
        "footer.beginner": "الروبوتات للمبتدئين",
        "footer.advanced": "البرمجة المتقدمة",
        "footer.competition": "تحضير المسابقات",
        "footer.camps": "المعسكرات الصيفية",
        "footer.resources": "الموارد",
        "footer.blog": "مدونة التعلم",
        "footer.guide": "دليل الوالدين",
        "footer.projects": "مشاريع الطلاب",
        "footer.faq": "الأسئلة الشائعة",
        "footer.company": "الشركة",
        "footer.about": "من نحن",
        "footer.team": "فريقنا",
        "footer.careers": "الوظائف",
        "footer.news": "الأخبار",
        "footer.contact": "اتصل بنا",
        "footer.address": "قصبة الزرقاء",
        "footer.copyright": "أكاديمية تاء. جميع الحقوق محفوظة.",
        // Digital Fabrication Lab
        "digitalFab.title": "مختبر التصنيع الرقمي",
        "digitalFab.subtitle": "حيث تتحول الأفكار إلى واقع باستخدام أحدث تقنيات التصنيع الرقمي.",
        "digitalFab.3dPrinting": "الطباعة ثلاثية الأبعاد",
        "digitalFab.3dPrintingDesc": "يتعلم الطلاب تصميم وطباعة مكونات روبوتاتهم الخاصة باستخدام طابعات 3D متطورة.",
        "digitalFab.laserCutting": "قص الليزر",
        "digitalFab.laserCutingDesc": "استخدام أجهزة قص الليزر لإنشاء هياكل دقيقة من الخشب والبلاستيك.",
        "digitalFab.designSoftware": "برمجيات التصميم",
        "digitalFab.designSoftwareDesc": "التدريب على برامج مثل Tinkercad و Fusion 360 لتصميم مشاريعهم رقميًا.",
        "digitalFab.projectIntegration": "دمج المشاريع",
        "digitalFab.projectIntegrationDesc": "دمج العناصر المصنعة رقميًا مع الروبوتات والدوائر الإلكترونية لإنشاء مشاريع متكاملة.",
        //store section arabic 
        "store.title": "المتجر - أكاديمية تاء",
        "store.heroTitle": "مُتجر أكاديمية تاء",
        "store.heroSubtitle": "اكتشف أدوات الروبوتات، مجموعات البناء، والهدايا التعليمية لصغار المبتكرين.",
        "store.product1Title": "مجموعة بناء روبوت",
        "store.product1Desc": "مجموعة تعليمية متكاملة لبناء روبوت ذكي مناسبة للأطفال من 8 إلى 14 سنة.",
        "store.product2Title": "كتاب: مغامرات الإلكترونيات",
        "store.product2Desc": "كتاب تفاعلي يشرح أساسيات الدوائر والكهرباء بطريقة ممتعة.",
        "store.product3Title": "طابعة 3D تعليمية",
        "store.product3Desc": "طابعة صغيرة وآمنة للأطفال لتصميم وطباعة مكونات مشاريعهم.",
        "store.product4Title": "حقيبة STEM الشهرية",
        "store.product4Desc": "اشتراك شهري ي送来 مشاريع جديدة في العلوم والتكنولوجيا والهندسة والرياضيات.",
        "store.addToCart": "أضف إلى السلة",
        "store.subscribe": "اشترك الآن"
    },
    en: {
        "nav.home": "Home",
        "nav.digitalFab": "Digital Lab",
        "nav.features": "Features",
        "nav.about": "About",
        "nav.testimonials": "Testimonials",
        "nav.store": "Store",
        "nav.contact": "Contact",
        "cta.getStarted": "Get Started",
        "hero.highlight": "Unlock",
        "hero.title": "Tomorrow's Innovators: Robotics Adventures for Kids!",
        "hero.subtitle": "Spark curiosity, ignite creativity, and build the future, one robot at a time. Empower your child with skills for a rapidly evolving world.",
        "cta.startAdventure": "Start Their Adventure",
        "cta.explorePrograms": "Explore Programs",
        "features.title": "Why Choose Us",
        "features.subtitle": "Our innovative programs are designed to help your children grow and succeed in today's competitive world.",
        "features.handsOn": "Hands-On Learning",
        "features.handsOnDesc": "Our curriculum emphasizes practical, hands-on experience with robotics and coding.",
        "features.experts": "Expert Instructors",
        "features.expertsDesc": "Learn from passionate educators with real-world experience in STEM fields.",
        "features.ageAppropriate": "Age-Appropriate",
        "features.ageAppropriateDesc": "Programs tailored to different age groups, from beginners to advanced learners.",
        "features.projectBased": "Project-Based",
        "features.projectBasedDesc": "Students learn by creating real projects they can be proud of.",
        "features.teamwork": "Team Collaboration",
        "features.teamworkDesc": "Develop important teamwork and communication skills through group projects.",
        "features.trackProgress": "Track Progress",
        "features.trackProgressDesc": "Regular assessments and progress reports to monitor your child's development.",
        "about.title": "About Taa Academy",
        "about.p1": "At Taa Academy, we believe every child has the potential to be an innovator. Our mission is to provide accessible, high-quality robotics education that inspires young minds and prepares them for the future.",
        "about.p2": "Founded by experienced educators and engineers, we combine pedagogical expertise with cutting-edge technology to create engaging learning experiences. Our programs have helped hundreds of children develop critical thinking, problem-solving, and creativity skills.",
        "about.students": "Students",
        "about.experience": "Years Experience",
        "about.satisfaction": "Satisfaction",
        "testimonials.title": "What Our Parents Say",
        "testimonials.subtitle": "Don't just take our word for it. Here's what parents have to say about their children's experience.",
        "testimonials.review1": "My son has discovered a passion for robotics at Taa Academy. The instructors are patient and knowledgeable, and he comes home excited to share what he's learned each week.",
        "testimonials.parent1": "Sarah Wilson",
        "testimonials.role1": "Mother of 9-year-old student",
        "testimonials.review2": "The curriculum at Taa Academy has helped my daughter build confidence in her technical abilities. She's gone from being hesitant about technology to leading her school's robotics club.",
        "testimonials.parent2": "Michael Chen",
        "testimonials.role2": "Father of 11-year-old student",
        "testimonials.review3": "As an engineer myself, I'm impressed with the quality of education at Taa Academy. They're not just teaching kids to follow instructions, but to think like real problem-solvers.",
        "testimonials.parent3": "Dr. Emma Rodriguez",
        "testimonials.role3": "Parent and Software Engineer",
        "cta.journeyTitle": "Ready to Start Your Child's Journey?",
        "cta.journeySubtitle": "Join hundreds of satisfied students who have discovered the joy of robotics and coding with our expert instructors.",
        "cta.enrollToday": "Enroll Today",
        "footer.programs": "Programs",
        "footer.beginner": "Beginner Robotics",
        "footer.advanced": "Advanced Coding",
        "footer.competition": "Competition Prep",
        "footer.camps": "Summer Camps",
        "footer.resources": "Resources",
        "footer.blog": "Learning Blog",
        "footer.guide": "Parent Guide",
        "footer.projects": "Student Projects",
        "footer.faq": "FAQ",
        "footer.company": "Company",
        "footer.about": "About Us",
        "footer.team": "Our Team",
        "footer.careers": "Careers",
        "footer.news": "News",
        "footer.contact": "Contact Us",
        "footer.address": "Qasabat Al Zarqa",
        "footer.copyright": "Taa Academy. All rights reserved.",
        // Digital Fabrication Lab
        "digitalFab.title": "Digital Fabrication Lab",
        "digitalFab.subtitle": "Where ideas become reality using the latest digital manufacturing technologies.",
        "digitalFab.3dPrinting": "3D Printing",
        "digitalFab.3dPrintingDesc": "Students learn to design and print their own robot parts using advanced 3D printers.",
        "digitalFab.laserCutting": "Laser Cutting",
        "digitalFab.laserCuttingDesc": "Use laser cutters to create precise structures from wood and plastic.",
        "digitalFab.designSoftware": "Design Software",
        "digitalFab.designSoftwareDesc": "Training on tools like Tinkercad and Fusion 360 to design projects digitally.",
        "digitalFab.projectIntegration": "Project Integration",
        "digitalFab.projectIntegrationDesc": "Integrate digitally fabricated parts with robots and electronics to build complete projects.",
        // Store section English
        "store.title": "Store - Taa Academy",
        "store.heroTitle": "Taa Academy Store",
        "store.heroSubtitle": "Discover robotics kits, building sets, and educational gifts for young innovators.",
        "store.product1Title": "Robot Building Kit",
        "store.product1Desc": "A complete educational kit to build a smart robot, suitable for children aged 8 to 14.",
        "store.product2Title": "Book: Adventures in Electronics",
        "store.product2Desc": "An interactive book explaining the basics of circuits and electricity in a fun way.",
        "store.product3Title": "Educational 3D Printer",
        "store.product3Desc": "A small, safe 3D printer for kids to design and print their project parts.",
        "store.product4Title": "Monthly STEM Box",
        "store.product4Desc": "A monthly subscription delivering new science, technology, engineering, and math projects.",
        "store.addToCart": "Add to Cart",
        "store.subscribe": "Subscribe Now"
    }
};

// Custom cursor functionality
const cursor = document.querySelector('.cursor');
const cursorFollower = document.querySelector('.cursor-follower');

let mouseX = 0;
let mouseY = 0;
let followerX = 0;
let followerY = 0;

document.addEventListener('mousemove', (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
    cursor.style.left = mouseX + 'px';
    cursor.style.top = mouseY + 'px';
});

function animateFollower() {
    const dx = mouseX - followerX;
    const dy = mouseY - followerY;
    followerX += dx * 0.1;
    followerY += dy * 0.1;
    cursorFollower.style.left = followerX + 'px';
    cursorFollower.style.top = followerY + 'px';
    requestAnimationFrame(animateFollower);
}

animateFollower();

const interactiveElements = document.querySelectorAll('a, button, .feature-card, .about-image, .cta-button, .secondary-button, .nav-links a, .lang-button');

interactiveElements.forEach(element => {
    element.addEventListener('mouseenter', () => {
        cursor.style.transform = 'translate(-50%, -50%) scale(1.5)';
        cursor.style.width = '10px';
        cursor.style.height = '10px';
        cursorFollower.style.transform = 'translate(-50%, -50%) scale(1.5)';
        cursorFollower.style.width = '50px';
        cursorFollower.style.height = '50px';
    });
    
    element.addEventListener('mouseleave', () => {
        cursor.style.transform = 'translate(-50%, -50%) scale(1)';
        cursor.style.width = '20px';
        cursor.style.height = '20px';
        cursorFollower.style.transform = 'translate(-50%, -50%) scale(1)';
        cursorFollower.style.width = '40px';
        cursorFollower.style.height = '40px';
    });
});

// Language toggle functionality
let currentLang = 'ar';

function setLanguage(lang) {
    currentLang = lang;
    document.documentElement.lang = lang;
    document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
    
    const langButton = document.getElementById('lang-toggle');
    langButton.textContent = lang === 'ar' ? 'EN' : 'AR';
    langButton.classList.toggle('ar', lang === 'ar');
    langButton.classList.toggle('en', lang === 'en');
    
    document.querySelectorAll('[data-key]').forEach(element => {
        const key = element.getAttribute('data-key');
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
    
    document.querySelector('.logo').textContent = lang === 'ar' ? 'أكاديمية تاء' : 'Taa Academy';
    localStorage.setItem('preferredLanguage', lang);
}

document.addEventListener('DOMContentLoaded', function() {
    const savedLang = localStorage.getItem('preferredLanguage');
    const preferredLang = savedLang || (navigator.language.startsWith('ar') ? 'ar' : 'en');
    setLanguage(preferredLang);
    document.getElementById('current-year').textContent = new Date().getFullYear();
});

document.getElementById('lang-toggle').addEventListener('click', function() {
    const newLang = currentLang === 'ar' ? 'en' : 'ar';
    setLanguage(newLang);
});

window.addEventListener('scroll', function() {
    const header = document.querySelector('header');
    if (window.scrollY > 50) {
        header.classList.add('scrolled');
    } else {
        header.classList.remove('scrolled');
    }
});

document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            const offset = currentLang === 'ar' ? 100 : -100;
            window.scrollTo({
                top: target.offsetTop + offset,
                behavior: 'smooth'
            });
        }
    });
});

const mobileMenu = document.querySelector('.mobile-menu');
const navLinks = document.querySelector('.nav-links');

mobileMenu.addEventListener('click', function() {
    navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
});

document.querySelectorAll('.nav-links a').forEach(link => {
    link.addEventListener('click', () => {
        if (window.innerWidth <= 768) {
            navLinks.style.display = 'none';
        }
    });
});

const featureCards = document.querySelectorAll('.feature-card, .digital-fab .feature-card');
const observerOptions = { threshold: 0.1, rootMargin: '0px 0px -100px 0px' };

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

featureCards.forEach(card => {
    card.style.opacity = '0';
    card.style.transform = 'translateY(30px)';
    card.style.transition = 'all 0.6s ease';
    observer.observe(card);
});

document.querySelector('video').addEventListener('loadeddata', function() {
    this.style.opacity = '1';
});

document.querySelectorAll('.cta-button, .secondary-button').forEach(button => {
    button.addEventListener('click', function() {
        this.style.transform = 'scale(0.95)';
        setTimeout(() => {
            this.style.transform = '';
        }, 150);
    });
});